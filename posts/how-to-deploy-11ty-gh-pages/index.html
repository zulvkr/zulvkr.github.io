<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to deploy Eleventy to GitHub Pages</title><meta property="og:title" content="How to deploy Eleventy to GitHub Pages"><meta name="description" content="How to Setup GitHub Pages for Eleventy without SSH setup using GitHub Token. Any other Node.js SSG work as well."><meta property="og:description" content="How to Setup GitHub Pages for Eleventy without SSH setup using GitHub Token. Any other Node.js SSG work as well."><meta property="og:locale" content="en_US"><meta property="og:type" content="website"><meta property="og:url" content="/posts/how-to-deploy-11ty-gh-pages/"><link rel="canonical" href="/posts/how-to-deploy-11ty-gh-pages/"><link rel="stylesheet" href="/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-themes@1.7.0/themes/prism-atom-dark.css" media="print" onload="this.media=&quot;all&quot;"><link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" rel="stylesheet"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&amp;family=Ubuntu+Condensed&amp;display=swap" rel="stylesheet" media="print" onload="this.media=&quot;all&quot;"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/icon.svg" type="image/svg+xml"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="manifest" href="/manifest.webmanifest"></head><body><header class="grid border-b px-4 xl:px-6 xl:border-r xl:fixed xl:w-2/6 xl:h-full xl:pt-8 xl:border-b-0 bg-stone-50"><div class="w-full max-w-prose xl:justify-self-end justify-self-center"><nav class="text-sm"><ul class="flex flex-wrap group"><li class="flex-shrink-0 group-hover:text-stone-900 text-stone-600"><a class="block px-3 pt-6 pb-2 transition bg-stone-800 text-white" href="/">zulvkr</a></li><li class="flex-shrink-0 group-hover:text-stone-900 text-stone-600"><a class="block px-3 pt-6 pb-2 transition hover:bg-black hover:bg-opacity-10" href="/portfolio/">Portfolio</a></li><li class="flex-shrink-0 group-hover:text-stone-900 text-stone-600 ml-auto"><div class="block pt-4 w-7"><a href="https://github.com/zulvkr"><svg width="100%" height="100%" version="1.1" viewBox="0 0 11.493 11.209" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-82.861 -76.986)"><path d="m88.607 76.986c-3.1732 0-5.746 2.5728-5.746 5.7467 0 2.5389 1.6464 4.6926 3.9299 5.4529 0.28751 0.0526 0.39229-0.12488 0.39229-0.27728 0-0.13617-0.0049-0.49777-0.0078-0.9772-1.5984 0.34714-1.9357-0.77046-1.9357-0.77046-0.26141-0.66358-0.63818-0.84032-0.63818-0.84032-0.52176-0.35666 0.03951-0.3496 0.03951-0.3496 0.57679 0.0409 0.88018 0.59231 0.88018 0.59231 0.51259 0.87807 1.3451 0.62442 1.6725 0.47766 0.05221-0.37147 0.20038-0.62477 0.36477-0.76835-1.276-0.14499-2.6176-0.63817-2.6176-2.8402 0-0.62724 0.22401-1.1402 0.59161-1.542-0.05927-0.14535-0.25647-0.72955 0.05609-1.5208 0 0 0.4826-0.15451 1.5804 0.58914 0.45826-0.12735 0.95003-0.1912 1.4386-0.19332 0.48789 2e-3 0.97966 0.066 1.4386 0.19332 1.0971-0.74365 1.5787-0.58914 1.5787-0.58914 0.31362 0.79128 0.11642 1.3755 0.05715 1.5208 0.3683 0.40181 0.5909 0.91475 0.5909 1.542 0 2.2077-1.3437 2.6935-2.624 2.8356 0.20638 0.17744 0.39017 0.52811 0.39017 1.0643 0 0.768-0.0071 1.3878-0.0071 1.5762 0 0.15381 0.10336 0.33267 0.39511 0.27658 2.2818-0.76165 3.9268-2.914 3.9268-5.4522 0-3.1739-2.5732-5.7467-5.7471-5.7467" fill="currentColor" fill-rule="evenodd"/></g></svg></a></div></li></ul></nav><div class="py-8"><p class="pb-4 font-serif text-sm">â€” June 20th, 2021</p><h1 id="title" class="pb-6 text-5xl font-display text-stone-900">How to deploy Eleventy to GitHub Pages</h1><p id="description" class="max-w-prose font-serif italic text-stone-600">How to Setup GitHub Pages for Eleventy without SSH setup using GitHub Token. Any other Node.js SSG work as well.</p></div></div></header><div class="xl:grid xl:grid-cols-6"><div class="xl:col-start-3 xl:col-span-4"><div class="grid grid-cols-1 xl:grid-cols-[auto_1fr] xl:grid-flow-col"><div class="px-4 pt-5 pb-8 xl:px-6"><div class="xl:w-[65ch] w-full max-w-prose mx-auto xl:mx-0"><article class="prose prose-stone xl:pt-8"><p>Setting up a GitHub action for a static site generator surprisingly easy without any hassle. GitHub action supports various language and they posted lots of boilerplate configuration for a whole bunch of SSG. You can check the official tutorial <a href="https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-static-site-generators-with-nodejs">here</a>.</p><p>There is no official boilerplate for eleventy, but the configuration is easy to learn.</p><h2>Configuration</h2><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> github pages<br><br><span class="token key atrule">on</span><span class="token punctuation">:</span><br>  <span class="token key atrule">push</span><span class="token punctuation">:</span><br>    <span class="token key atrule">branches</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> main<br>  <span class="token key atrule">pull_request</span><span class="token punctuation">:</span><br>      <br><span class="token key atrule">jobs</span><span class="token punctuation">:</span><br>  <span class="token key atrule">deploy</span><span class="token punctuation">:</span><br>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span><span class="token number">18.04</span> <br>    <span class="token key atrule">steps</span><span class="token punctuation">:</span><br>        <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2<br><br>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node<br>          <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2<br>          <span class="token key atrule">with</span><span class="token punctuation">:</span><br>            <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'14'</span><br><br>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Cache dependencies<br>          <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v2<br>          <span class="token key atrule">with</span><span class="token punctuation">:</span><br>            <span class="token key atrule">path</span><span class="token punctuation">:</span> ~/.npm<br>            <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">-</span>node<span class="token punctuation">-</span>$<br>            <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string"><br>              $-node-</span><br><br>        <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm ci<br>        <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build <span class="token comment"># Your build script in package.json</span><br><br>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy<br>          <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3<br>          <span class="token key atrule">if</span><span class="token punctuation">:</span> github.ref == 'refs/heads/main'<br>          <span class="token key atrule">with</span><span class="token punctuation">:</span><br>            <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<br>            <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./_site <span class="token comment"># Your eleventy output folder</span></code></pre><p>This configuration is adapted from official tutorial and <a href="https://www.linkedin.com/pulse/eleventy-github-pages-lea-tortay/">lea-tortay post</a>. You just have to save it and in <code>.github/workflows/gh-pages.yml</code>. Replace commented part with your own build script and output folder.</p><p>You may want to add <code>.nojekyll</code> file to your root folder for fail-safe.</p><h2>What this configuration will do</h2><p>This configuration will tell GitHub to run <code>npm run build</code> every time you push to main branch. <code>GITHUB_TOKEN</code> will work without any SSH configuration with small caveats: you have to configure GitHub Pages to use <code>gh-pages</code> branch as its source.</p><p><code>gh-pages</code> branch will be created automatically after first deployment, so you have to change it after first deploy. You can check the detail in <a href="https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-first-deployment-with-github_token">the official tutorial here</a>.</p><p>The official tutorial said GitHub Pages action will add <code>.nojekyll</code> automatically so you don't have to add them yourself.</p><p>GitHub Pages action also support scheduled action, pretty cool.</p></article></div></div></div></div></div></body></html>